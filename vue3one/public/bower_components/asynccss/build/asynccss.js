/*! 
asynccss v0.0.4 | (c) 2014-2015 Dmitry Sheiko  | MIT     2014-12-18 */

window.asyncCss=function(a,b){"use strict";var c=function(a){var c=b.localStorage,e=function(a){var c=/[\:\.\#=\\\/-]/g;return b.ns+a.replace(c,"_")},f=a?e(a):null;return{cleanupOldVersions:function(){var a,b=f.split("?");for(a in c)a!==f&&0===a.indexOf(b[0])&&(d.log("invalidates obsolete `"+a+"`",8),c.removeItem(a))},set:function(a){this.cleanupOldVersions(),c.setItem(f,a)},get:function(){try{return c?c.getItem(f):null}catch(a){return null}},isAvailable:function(){return!!c},isLocalStoageWrittable:function(){try{return c.setItem("test","test"),c.removeItem("test"),!0}catch(a){return!1}}}},d={on:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},isIphone:function(){var a=/iPhone|iPad|iPod/i;return a.test(b.userAgent)},logMsgs:[],log:function(a,c){this.logMsgs.push({msg:a,code:c}),b.debug&&console.log("asyncCss: "+a)}},e=function(a){return{_injectRawStyle:function(a){var c=document.createElement("style");c.innerHTML=a,b.node.appendChild(c)},_loadCssForLegacyBrowser:function(a){var c=document.createElement("link");c.href=a,c.rel="stylesheet",c.type="text/css",b.node.appendChild(c)},_loadCssForLegacyAsync:function(c){var e=this,f=new b.XMLHttpRequest;f.open("GET",c,!0),d.on(f,"load",function(){4===f.readyState&&(d.log("`"+c+"` is loaded",5),e._injectRawStyle(f.responseText),!d.isIphone()&&a.isLocalStoageWrittable()&&(d.log("localStorage available, caching `"+c+"`",4),a.set(f.responseText))),b.done(d.logMsgs)}),f.send()},loadCss:function(c){var e;return a.isAvailable()&&b.XMLHttpRequest?(e=a.get())?(d.log("`"+c+"` injected from the cache",2),this._injectRawStyle(e),b.done(d.logMsgs)):(d.log("start loading `"+c+"` (asynchronously)",1),void this._loadCssForLegacyAsync(c)):(d.log("fallback loading `"+c+"`",3),this._loadCssForLegacyBrowser(c),b.done(d.logMsgs))}}},f=0,g=a.length;for(b=b||{},b.debug=b.debug||!1,b.ns=b.ns||"css_cache_",b.node=b.node||document.getElementsByTagName("head")[0],b.userAgent=b.userAgent||window.navigator.userAgent,b.localStorage="undefined"!=typeof b.localStorage?b.localStorage:window.localStorage,b.XMLHttpRequest="undefined"!=typeof b.XMLHttpRequest?b.XMLHttpRequest:window.XMLHttpRequest,b.done=b.done||function(){},window.asyncCss.cleanup=function(){var a;if(b.localStorage)for(a in b.localStorage)b.localStorage.removeItem(a)};g>f;f++)new e(new c(a[f])).loadCss(a[f])};